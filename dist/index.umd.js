!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){const e={version:"0.0.1",name:"x-views",views:{},settings:{enabled:!1,basepath:"/",selector:"#content",notfound:null},init(e){if(null!=window.PineconeRouterMiddlewares.find(e=>"x-render"==e.name))throw new Error(`Pinecone Router ${this.name}: Cannot use x-views along with x-render.`);if(e.$el.hasAttribute("x-views")){this.settings.enabled=!0;let t=e.$el.getAttribute("x-views");if("body"==t)throw new Error(`Pinecone Router ${this.name}: Do not use body as the selector, it will cause the router component to be removed`);""!=t&&(this.settings.selector=t),window.PineconeRouter.notfound=null,window.PineconeRouter.settings.allowNoHandler=!0}},onBeforeRouteProcessed(e,t,n){if(this.settings.enabled){if(0==e.hasAttribute("x-view"))throw new Error(`Pinecone Router ${this.name}: route must have an x-view attribute when using x-views.`);let t=e.getAttribute("x-view");"/"!=this.settings.basepath&&(t=this.settings.basepath+t),"notfound"==n?this.settings.notfound=t:this.views[n]=t}},onLinkIntercepted(e){},onHandlersExecuted(e,t,n,i){if(this.settings.enabled){let t=i?this.settings.notfound:this.views[e.path];if(null==t)return;fetch(t).then(e=>e.text()).then(e=>{var t;return t=e,document.querySelector(this.settings.selector).innerHTML=t,window.PineconeRouter.interceptLinks(),window.dispatchEvent(window.PineconeRouter.loadend),!1})}}};null==window.PineconeRouterMiddlewares?window.PineconeRouterMiddlewares=[e]:window.PineconeRouterMiddlewares.push(e)});
//# sourceMappingURL=index.umd.js.map
