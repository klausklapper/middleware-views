(()=>{function c(n,i=window.PineconeRouter.settings.viewSelector??"#app"){document.querySelector(i).innerHTML=n,document.querySelector("[autofocus]")?.focus()}var a={version:"3.0.2",name:"views",onAfterRouteProcessed(n,i){if(!n.hasAttribute("x-view"))return;let t=n.getAttribute("x-view");!(t.startsWith("[")&&t.endsWith("]"))&&!(t.startsWith("Array(")&&t.endsWith(")"))&&(t=`["${t}"]`);let r=new Function("return "+t)();if(i=="notfound"){window.PineconeRouter.notfound.view=r;return}let e=window.PineconeRouter.routes.findIndex(d=>d.path==i);window.PineconeRouter.routes[e].view=r},onBeforeHandlersExecuted(n,i,t){window.dispatchEvent(window.PineconeRouter.loadStart)},onHandlersExecuted(n,i,t){let r=n?n.view?n.view:"":window.PineconeRouter.notfound.view;if(!r){window.dispatchEvent(window.PineconeRouter.loadEnd);return}r.forEach(async e=>{let d="";if(typeof e=="string")d=e;else if(typeof e=="object"&&e&&e.path)d=e.path;else return;await fetch(d).then(o=>o.text()).then(o=>{e.selector?c(o,e.selector):c(o),window.dispatchEvent(window.PineconeRouter.loadEnd)}).catch(o=>{let u=document.querySelector(window.PineconeRouter.settings.viewSelector??"#app");u&&u.dispatchEvent(new CustomEvent("fetch-error",{detail:o})),console.error(`Pinecone Router: Fetch Error: ${o}`)})})}};window.PineconeRouterMiddlewares==null?window.PineconeRouterMiddlewares=[a]:window.PineconeRouterMiddlewares.push(a);})();
//# sourceMappingURL=views.min.js.map
